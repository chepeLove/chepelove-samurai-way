"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[460],{2460:function(t,s,e){e.r(s),e.d(s,{default:function(){return A}});var r=e(5671),n=e(3144),i=e(136),a=e(5716),o=e(2791),u=e(8516),p=e(184),d=function(t){(0,i.Z)(e,t);var s=(0,a.Z)(e);function e(){var t;(0,r.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=s.call.apply(s,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){var s;t.setState({editMode:!1}),t.props.updateUserStatus(null!==(s=t.state.status)&&void 0!==s?s:"")},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,n.Z)(e,[{key:"componentDidUpdate",value:function(t,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var t;return(0,p.jsxs)("div",{children:[!this.state.editMode&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"User has no status"})}),this.state.editMode&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{type:"text",onBlur:this.deactivateEditMode,value:null!==(t=this.state.status)&&void 0!==t?t:"",onChange:this.onStatusChange,autoFocus:!0})})]})}}]),e}(o.Component),l=function(t){return t.profile?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:t.profile.photos.large?t.profile.photos.large:"",alt:"avatar"})}),(0,p.jsx)(d,{status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsxs)("div",{children:["Contacts : ",t.profile.contacts.facebook]})]}):(0,p.jsx)(u.p,{})},c=e(81),h="Post_item__CaKi7",f=function(t){return(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("img",{src:"https://png.pngtree.com/png-clipart/20190921/original/pngtree-user-avatar-boy-png-image_4693645.jpg",alt:"avatar"}),(0,p.jsx)("div",{children:t.post}),(0,p.jsxs)("span",{children:["like: ",t.likeCount]})]})},v=e(6139),j=e(704),x=e(3079),g=e(1278),m=(0,x.D)(100),C=(0,j.Z)({form:"profileAddPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(v.Z,{component:g.N,tagName:"textarea",name:"newPostText",placeholder:"Enter your post",validate:[x.C,m]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),S=function(t){(0,i.Z)(e,t);var s=(0,a.Z)(e);function e(){var t;(0,r.Z)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=s.call.apply(s,[this].concat(i))).addPost=function(s){t.props.addPost(s.newPostText)},t}return(0,n.Z)(e,[{key:"render",value:function(){return(0,p.jsxs)("div",{children:["My posts",(0,p.jsx)(C,{onSubmit:this.addPost}),(0,p.jsx)("div",{children:"New posts"}),this.props.posts.map((function(t){return(0,p.jsx)(f,{post:t.post,likeCount:t.likeCount})}))]})}}]),e}(o.PureComponent),y=e(364),U=(0,y.$j)((function(t){return{posts:t.profilePage.posts}}),{addPost:c.q2})(S),Z=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(l,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsx)(U,{})]})},k=e(9271),P=e(4850),M=e(7781),w=function(t){(0,i.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;!t&&this.props.authorizedUserId&&(t=this.props.authorizedUserId),t||this.props.history.push("/login"),this.props.getUserProfileTC(t),this.props.getUserStatusTC(t)}},{key:"render",value:function(){return(0,p.jsx)(Z,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatusTC})}}]),e}(o.Component),A=(0,M.qC)((0,y.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfileTC:c.d$,getUserStatusTC:c.Qw,updateUserStatusTC:c.wM}),k.EN,P.F)(w)},4850:function(t,s,e){e.d(s,{F:function(){return d}});var r=e(8683),n=e(5987),i=(e(2791),e(9271)),a=e(364),o=e(184),u=["isAuth"],p=function(t){return{isAuth:t.auth.isAuth}};function d(t){return(0,a.$j)(p)((function(s){s.isAuth;var e=(0,n.Z)(s,u);return s.isAuth?(0,o.jsx)(t,(0,r.Z)({},e)):(0,o.jsx)(i.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=460.2ac93649.chunk.js.map